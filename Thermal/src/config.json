{
  "model": {
    "latent_channels": 4,
    "base_channels": 128,
    "style_dim": 256,
    "time_dim": 256,
    "num_styles": 4,
    "num_encoder_blocks": 2,
    "num_decoder_blocks": 5
  },
  "loss": {
    "w_style": 100.0,
    "w_mse": 0.2,
    "patch_size": 5, 
    "num_projections": 64,
    "max_samples": 8192,
    "use_multiscale_swd": true,
    "swd_scales": [1, 3, 5, 7],
    "swd_scale_weights": [1.0, 5.0, 5.0, 5.0],
    
    "style_weights": [2.0, 0.5, 4.0, 2.0],
    
    "use_velocity_reg": true,
    "vel_reg_weight": 0.1
  },
  "training": {
    "batch_size": 192,
    "accumulation_steps": 1,
    "learning_rate": 1e-4,
    "min_learning_rate": 1e-6,
    "weight_decay": 1e-5,
    "num_epochs": 600,
    
    "label_drop_prob": 0.25,
    
    "use_avg_style_for_uncond": true,
    "epsilon": 0.01,
    "epsilon_warmup_epochs": 10,
    "ode_integration_steps": 4,
    
    "use_amp": true,
    "use_compile": true,
    "use_gradient_checkpointing": true,
    "use_elastic_deform": true,
    "elastic_alpha": 3.0,
    
    "save_interval": 10,
    "eval_interval": 10,
    "full_eval_interval": 50,
    
    "test_image_dir": "/mnt/c/Users/xy/style_data/test",
    "resume_checkpoint": null
  },
  "data": {
    "data_root": "../../data/latents",
    "style_subdirs": ["monet", "photo", "vangogh", "cezanne"],
    "style_prompts": [
      "a Monet-style painting",
      "a photorealistic photograph",
      "a Van Gogh-style painting",
      "a Cezanne-style painting"
    ]
  },
  "checkpoint": {
    "save_dir": "../checkpoints-4_style-all_scales-fix_weights"
  },
  "inference": {
    "num_steps": 15,
    "temperature_lambda": 0.1,
    "temperature_threshold": 0.5,
    "use_cfg": true,
    "cfg_scale": 4.0,
    "cfg_decay": true,
    "use_source_repulsion": true,
    "repulsion_strength": 1.0
  }
}